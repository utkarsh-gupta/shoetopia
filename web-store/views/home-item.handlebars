{{#each data}}
<div class="d-flex justify-content-center col-lg-3 col-md-6 col-12 mb-4 mb-lg-0 p-1">
    <div class="card info-card">
        <img src="/img/product/{{imagePath}}" class="card-img-top info-card-img" alt="..." />
        <div class="card-body">
            <div class="d-flex justify-content-between align-items-center my-1">
                <div class="d-flex justify-content-center align-items-center">
                    <h6 class="card-title text-muted m-0">{{brand}}</h6>
                </div>
                <div class="d-flex justify-content-center align-items-center">
                    {{#if newlyLaunched}}
                    <span class="badge rounded-pill bg-success mx-1">New</span>
                    {{/if}}
                    {{#if onDiscount}}
                    <span class="badge rounded-pill bg-danger mx-1">Sale!!</span>
                    {{/if}}
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center my-2">
                <p class="m-0">{{name}}</p>
                <div class="d-flex">
                    {{#if forMale}}
                    <img class="img-thumbnail card-img" style="border-color: #1a53ff;" src="/img/male.png" />
                    {{/if}}
                    {{#if forFemale}}
                    <img class="img-thumbnail card-img" style="border-color: #ff5050;" src="/img/female.png" />
                    {{/if}}
                </div>
            </div>
            <div class="d-flex justify-content-center align-items-center my-1">
                <h6 class="m-0 mx-2">{{#if onDiscount}}<del class="text-muted">{{/if}}${{price}}{{#if
                        onDiscount}}</del>{{/if}}</h6>
                {{#if onDiscount}}<h6 class="m-0 mx-2">${{finalDiscountPrice}}</h6>{{/if}}
            </div>
            <div class="d-flex justify-content-center align-items-center">
                <button class="btn btn-outline-primary btn-sm btn-w-1 mx-1" data-bs-toggle="modal"
                    data-bs-target="#modalDetail"
                    onclick="shoetopia.prepareToShowDetail('{{code}}', '{{name}}', '{{desc}}')">Detail</button>
                <button class="btn btn-outline-primary btn-sm btn-w-1" data-bs-toggle="modal"
                    data-bs-target="#modalCart" onclick="shoetopia.prepareAddToCart('{{code}}', '{{name}}')">Add to
                    cart</button>
            </div>
        </div>
    </div>
</div>
{{/each}}
<!-- Modal for ADD-TO-CART -->
<div id="modalCart" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="modalCartTitle">Modal title</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form method="post" action="/addToCart">
                <div class="modal-body p-2">
                    <input id="idCode" name="code" type="hidden" />
                    <div class="row justify-content-center mb-2">
                        <div class="col-4 ">
                            <label for="idShoeSize" class="form-label">Shoe Size (US)</label>
                            <select id="idShoeSize" name="shoeSize" class="form-select">
                                <option selected>Choose</option>
                                <option>7</option>
                                <option>8</option>
                                <option>9</option>
                                <option>10</option>
                                <option>11</option>
                                <option>12</option>
                                <option>13</option>
                            </select>
                            <span id="idShoeSizeErr" class="error"></span>
                        </div>
                        <div class="col-2">
                            <label for="idPairCount" class="form-label">Pairs?</label>
                            <input id="idPairCount" name="pairCount" type="text" class="form-control" value="1" />
                        </div>
                    </div>
                    <div class="modal-footer p-2">
                        <button type="button" class="btn btn-secondary btn-w-1" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" onclick="return shoetopia.validateSelection(event)" class="btn btn-primary btn-w-1">Add</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Modal for DETAIL -->
<div id="modalDetail" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="modalDetailTitle">Modal title</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="justify-content-center align-items-center">
                    <video controls autoplay class="view-video">
                        <source src="/video/shoes-detail.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="justify-content-center align-items-center">
                    <p id="idDesc" class="h6 p-2 text-muted">
                    </p>
                </div>
                <div class="modal-footer p-2">
                    <button type="button" class="btn btn-secondary btn-w-1" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>